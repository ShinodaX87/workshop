<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">

    <title>D3 Loading Data</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="assets/css/styles.css">
  </head>

  <body>
    <h1>D3 Loading Data</h1>

    <script type="text/javascript">
      // IIFE - Pattern (Immediate Invoked Function Expression)
      (function() {
        'use strict';
        //  - - - - - - - - - -

        d3.select('body').append('ul');
        //  d3.select('body').append('table);

        // D3 Loading Data
        // load CSV
        d3.csv('assets/data/data.csv', function(d, i) {
          // console.log(d.Datum);
          // console.log(d.Wert);
          // console.log(d.NochEinWert);

          d3.select('ul').append('li').text(d.Datum);
          // d3.select('table').append('tr')
          // d3.select('table').append('td').text(d.Datum)

        });
        // load CSV with promise
        d3.csv('assets/data/data.csv', function(d, i) {
          return d;
        }).then(function(data) {
          d3.select('body').append('table').attr('border', '1');

          for (let i = 0; i < data.length; i++) {
            d3.select('table').append('tr').attr('id', 'id-' + i);

            d3.select('tr#id-' + i).append('td').text(data[i].Datum);
            d3.select('tr#id-' + i).append('td').text(data[i].Wert);
            d3.select('tr#id-' + i).append('td').text(data[i].NochEinWert);

          }
        });

        // load JSON
        d3.json('assets/data/data.json', function(d, i) {
          console.log(d);
        });

        d3.json('assets/data/data.json', function(d, i) {
          return d;
        }).then(function(data) {
          console.log(data);
        })

        //  - - - - - - - - - -
      })();
    </script>
  </body>

</html>